[{"D:\\Batches\\PP 2021\\React\\React\\movies\\src\\index.js":"1","D:\\Batches\\PP 2021\\React\\React\\movies\\src\\reportWebVitals.js":"2","D:\\Batches\\PP 2021\\React\\React\\movies\\src\\App.js":"3","D:\\Batches\\PP 2021\\React\\React\\movies\\src\\Components\\Movies.js":"4","D:\\Batches\\PP 2021\\React\\React\\movies\\src\\Components\\getMovies.js":"5","D:\\Batches\\PP 2021\\React\\React\\movies\\src\\Components\\About.js":"6","D:\\Batches\\PP 2021\\React\\React\\movies\\src\\Components\\Home.js":"7","D:\\Batches\\PP 2021\\React\\React\\movies\\src\\Components\\Movie.js":"8"},{"size":460,"mtime":1623498729932,"results":"9","hashOfConfig":"10"},{"size":362,"mtime":499162500000,"results":"11","hashOfConfig":"10"},{"size":503,"mtime":1624709804705,"results":"12","hashOfConfig":"10"},{"size":10712,"mtime":1624707233709,"results":"13","hashOfConfig":"10"},{"size":1993,"mtime":1623498768483,"results":"14","hashOfConfig":"10"},{"size":172,"mtime":1624708319707,"results":"15","hashOfConfig":"10"},{"size":175,"mtime":1624708303135,"results":"16","hashOfConfig":"10"},{"size":176,"mtime":1624709095570,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1lgeh9c",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"25","messages":"26","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"20"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"D:\\Batches\\PP 2021\\React\\React\\movies\\src\\index.js",[],["36","37"],"D:\\Batches\\PP 2021\\React\\React\\movies\\src\\reportWebVitals.js",[],"D:\\Batches\\PP 2021\\React\\React\\movies\\src\\App.js",["38"],"D:\\Batches\\PP 2021\\React\\React\\movies\\src\\Components\\Movies.js",["39","40","41","42","43","44","45","46","47","48"],"import React, { Component } from 'react'\r\nimport { getMovies } from './getMovies';\r\nimport axios from 'axios'\r\nexport default class Movies extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            movies: [],\r\n            currSearchText: '',\r\n            currPage: 1,\r\n            limit: 4,\r\n            cGenre: 'All Genres',\r\n            genres: [{ _id: 'abcd', name: 'All Genres' }]\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        console.log('Component DID Mount');\r\n        let promise = axios.get('https://backend-react-movie.herokuapp.com/movies');\r\n        let promise2 = axios.get('https://backend-react-movie.herokuapp.com/genres');\r\n        let data = await promise;\r\n        let data2 = await promise2;\r\n        console.log(data2.data.genres);\r\n        this.setState({\r\n            movies: data.data.movies,\r\n            genres: [...this.state.genres, ...data2.data.genres]\r\n        })\r\n    }\r\n    onDelete = (id) => {\r\n        let filterMovies = this.state.movies.filter(movieObj => {\r\n            return movieObj._id != id\r\n        })\r\n        this.setState({\r\n            movies: filterMovies\r\n        })\r\n    }\r\n    handleChange = (e) => {\r\n\r\n\r\n        let task = e.target.value;\r\n        this.setState({ currSearchText: task });\r\n    }\r\n    sortByRatings = (e) => {\r\n        let className = e.target.className;\r\n        // console.log(className);\r\n        let sortedArr = [];\r\n        if (className == 'fas fa-sort-up') {\r\n            //ascending order m sort\r\n            sortedArr = this.state.movies.sort((movieA, movieB) => {\r\n                return movieA.dailyRentalRate - movieB.dailyRentalRate\r\n            });\r\n        }\r\n        else {\r\n            //descending order\r\n            sortedArr = this.state.movies.sort((movieA, movieB) => {\r\n                return movieB.dailyRentalRate - movieA.dailyRentalRate\r\n            })\r\n        }\r\n        this.setState({\r\n            movies: sortedArr\r\n        });\r\n\r\n    }\r\n    sortByStock = (e) => {\r\n        let className = e.target.className;\r\n        let sortedArr = [];\r\n        //We have applied the same click event on both the arrows of the stock column\r\n        // so we have to identify whether we have to sort in descending or ascending order.\r\n        //  for this we have used the class Names as a condition\r\n        if (className == 'fas fa-sort-up') {\r\n            // We need to provide JS with how to compare the two elements when we are trying to sort an array of derived data-types\r\n            // such as objects.\r\n            // a-b is used for sorting in ascending order\r\n            sortedArr = this.state.movies.sort((movieA, movieB) => {\r\n                return movieA.numberInStock - movieB.numberInStock;\r\n            })\r\n        }\r\n        else {\r\n            sortedArr = this.state.movies.sort((movieA, movieB) => {\r\n                // b-a is used for sorting in descending order.\r\n                return movieB.numberInStock - movieA.numberInStock;\r\n            })\r\n        }\r\n        this.setState({\r\n            movies: sortedArr\r\n        })\r\n    }\r\n    handlePageChange = (pageNumber) => {\r\n        this.setState({ currPage: pageNumber });\r\n    }\r\n    handleLimit = (e) => {\r\n        let num = Number(e.target.value)\r\n        this.setState({ limit: num })\r\n    }\r\n    handleGenreChange=(genre)=>{\r\n        this.setState({\r\n            cGenre:genre\r\n        })\r\n    }\r\n    render() {\r\n        console.log('render');\r\n        let { movies, currSearchText, limit, currPage,cGenre,genres } = this.state;\r\n        let filterMovies = [];\r\n        // searching\r\n        if (currSearchText != '') {\r\n            filterMovies = movies.filter(movieObj => {\r\n                let title = movieObj.title.trim().toLowerCase();\r\n\r\n                return title.includes(currSearchText.toLowerCase())\r\n            })\r\n        }\r\n        else {\r\n            filterMovies = movies;\r\n        }\r\n        if(cGenre!='All Genres')\r\n        {\r\n            filterMovies =filterMovies.filter(function(movieObj){\r\n                return movieObj.genre.name == cGenre;\r\n            })\r\n        }\r\n        ////////////////////////\r\n        //Pagination & limit\r\n        let numberofPages = Math.ceil(filterMovies.length / limit);\r\n        let pageNumberArr = [];\r\n        for (let i = 0; i < numberofPages; i++) {\r\n            pageNumberArr.push(i + 1);\r\n        }\r\n        let si = (currPage - 1) * limit;\r\n        let ei = si + limit;\r\n        filterMovies = filterMovies.slice(si, ei);\r\n        /////////////////////////////\r\n        return (\r\n            <>\r\n                {\r\n                    this.state.movies.length == 0 ?\r\n                        <div className=\"spinner-border text-primary\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                        :\r\n                        <div className='container'>\r\n                            <div className='row'>\r\n                                <div className='col-3'>\r\n                                    <ul className=\"list-group\">\r\n                                   {\r\n                                       genres.map((genreObj)=>(\r\n                                           <li onClick={()=>this.handleGenreChange(genreObj.name)} key={genreObj._id} className='list-group-item'>\r\n                                               {genreObj.name}\r\n                                           </li>\r\n                                       ))\r\n                                   }\r\n                                    </ul>\r\n                                    <h5>Current Genre {cGenre}</h5>\r\n                                </div>\r\n                                <div className='col-9'>\r\n                                    <input value={this.state.currSearchText} onChange={this.handleChange} type='text'></input>\r\n                                    <input value={this.state.limit > filterMovies.length ? filterMovies.length : this.state.limit}\r\n                                        // suppose we limit of 4 and we type th we have only 2 movies of type th ....\r\n                                        // this would lead to a bug where we ony have 2 movies in filter Array but in input tag we have 4 as our default limit\r\n\r\n                                        onChange={this.handleLimit} min='1' max={movies.length} type='number'></input>\r\n                                    <table className=\"table\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th scope=\"col\">#</th>\r\n                                                <th scope=\"col\">Title</th>\r\n                                                <th scope=\"col\">Genre</th>\r\n\r\n                                                <th scope=\"col\">\r\n                                                    <i className=\"fas fa-sort-up\" onClick={this.sortByStock}></i>\r\n                                                    Stock\r\n                                                    <i className=\"fa fa-sort-down\" onClick={this.sortByStock} ></i>\r\n                                                </th>\r\n\r\n                                                <th scope=\"col\">\r\n                                                    <i className=\"fas fa-sort-up\" onClick={this.sortByRatings} ></i>\r\n                                                    Rate\r\n                                                    <i className=\"fa fa-sort-down\" onClick={this.sortByRatings} ></i>\r\n                                                </th>\r\n\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {\r\n                                                filterMovies.map(movieObj => (\r\n                                                    <tr scope='row' key={movieObj._id} >\r\n                                                        <td></td>\r\n                                                        <td>{movieObj.title}</td>\r\n                                                        <td>{movieObj.genre.name}</td>\r\n                                                        <td>{movieObj.numberInStock}</td>\r\n                                                        <td>{movieObj.dailyRentalRate}</td>\r\n                                                        <td><button type='button' className='btn btn-danger' onClick={() => this.onDelete(movieObj._id)}>Delete</button></td>\r\n                                                    </tr>\r\n                                                ))\r\n                                            }\r\n                                        </tbody>\r\n                                    </table>\r\n                                    <nav aria-label=\"...\">\r\n                                        <ul className=\"pagination\">\r\n\r\n                                            {/* <li class=\"page-item\"><a class=\"page-link\" href=\"#\">1</a></li>\r\n                                <li class=\"page-item active\" aria-current=\"page\">\r\n                                    <span class=\"page-link\">2</span>\r\n                                </li>\r\n                                <li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li> */}\r\n\r\n                                            {\r\n                                                pageNumberArr.map(pageNumber => {\r\n                                                    let classStyleName = pageNumber == currPage ? 'page-item active' : 'page-item'\r\n                                                    // the above let variable is used to define the class too be put on the li element.\r\n                                                    //  As this decides the blue backgroound.\r\n                                                    return (\r\n                                                        <li onClick={() => this.handlePageChange(pageNumber)} className={classStyleName} key={pageNumber} >\r\n                                                            <span className=\"page-link\">{pageNumber}</span>\r\n                                                        </li>\r\n                                                    )\r\n                                                })\r\n                                            }\r\n                                        </ul>\r\n                                    </nav>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n// {\r\n//     ","D:\\Batches\\PP 2021\\React\\React\\movies\\src\\Components\\getMovies.js",[],"D:\\Batches\\PP 2021\\React\\React\\movies\\src\\Components\\About.js",[],"D:\\Batches\\PP 2021\\React\\React\\movies\\src\\Components\\Home.js",[],"D:\\Batches\\PP 2021\\React\\React\\movies\\src\\Components\\Movie.js",[],{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","severity":1,"message":"54","line":4,"column":8,"nodeType":"55","messageId":"56","endLine":4,"endColumn":13},{"ruleId":"53","severity":1,"message":"57","line":2,"column":10,"nodeType":"55","messageId":"56","endLine":2,"endColumn":19},{"ruleId":"58","severity":1,"message":"59","line":30,"column":33,"nodeType":"60","messageId":"61","endLine":30,"endColumn":35},{"ruleId":"58","severity":1,"message":"62","line":46,"column":23,"nodeType":"60","messageId":"61","endLine":46,"endColumn":25},{"ruleId":"58","severity":1,"message":"62","line":69,"column":23,"nodeType":"60","messageId":"61","endLine":69,"endColumn":25},{"ruleId":"58","severity":1,"message":"59","line":104,"column":28,"nodeType":"60","messageId":"61","endLine":104,"endColumn":30},{"ruleId":"58","severity":1,"message":"59","line":114,"column":18,"nodeType":"60","messageId":"61","endLine":114,"endColumn":20},{"ruleId":"58","severity":1,"message":"62","line":117,"column":44,"nodeType":"60","messageId":"61","endLine":117,"endColumn":46},{"ruleId":"58","severity":1,"message":"62","line":134,"column":46,"nodeType":"60","messageId":"61","endLine":134,"endColumn":48},{"ruleId":"63","severity":1,"message":"64","line":184,"column":57,"nodeType":"65","endLine":184,"endColumn":68},{"ruleId":"58","severity":1,"message":"62","line":207,"column":85,"nodeType":"60","messageId":"61","endLine":207,"endColumn":87},"no-native-reassign",["66"],"no-negated-in-lhs",["67"],"no-unused-vars","'Movie' is defined but never used.","Identifier","unusedVar","'getMovies' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","Expected '===' and instead saw '=='.","jsx-a11y/scope","The scope prop can only be used on <th> elements.","JSXAttribute","no-global-assign","no-unsafe-negation"]